<!doctype html>
<html>
    <head>
        <meta charset="utf-8"/>
        <title>Testing Raphael</title>
    </head>
    <body>
        <script src="raphael.min.js" type="text/javascript"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" type="text/javascript"></script>
        <script>
            
		$.getJSON( "map_data.json", function( data ) {
			var paper = Raphael(100, 100, 2000, 2000);
			var elementSet = paper.set();
			var attrs = {"type":"path","stroke":"none"};    
			var sa = {}

			$.each(data, function(i, province) {
				attrs.fill = province.color;
                sa[province.name] = paper.path(province.path).attr(attrs);
  				sa[province.name].name = province.name;
			});

			
			$.each(sa, function(i, st) {
				st.node.onclick = function() {
					paper.clear(); 
					paper = Raphael(-2200, -500, 3000, 2000);
					var attrs = {"type":"path","stroke":"none"};    
					var sa = {};
					var provinces = paper.set();

					$.getJSON( "gauteng.json", function( data ) {
						   $.each(data, function(i, munic) {
							attrs.fill = munic.color;
							sa[munic.name] = paper.path(munic.path).attr(attrs);
							provinces.push(sa[munic.name]);
							sa[munic.name].name = munic.name;
							sa[munic.name].transform("s4.5,4.5 0,0");
						   });
					});

				};
			});
	  	 
		});


	    /**
            var real_cape = paper.path().attr(attrs);
	    //elementSet.push(real_cape);
            
            //var western_cape = paper.path("").attr(attrs);
            //elementSet.push(western_cape);

            var free_state = paper.path().attr(attrs);
            //elementSet.push(path);

            var kwaZulu_Natal = paper.path().attr(attrs);
            //elementSet.push(path);

            var limpopo = paper.path().attr(attrs);
        
            var mpumalanga = paper.path().attr(attrs);
            //elementSet.push(path);

            var north_west = paper.path().attr(attrs);
            //elementSet.push(path);
            
            var nothern_cape = paper.path().attr(attrs);
            
            var gauteng = paper.path().attr(attrs);
	    */

        </script>
    </body>
</html>
